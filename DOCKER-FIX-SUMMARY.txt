RESONANCE.AI BREAKOUT SCANNER - DOCKER FIX SUMMARY
===================================================

FINAL WORKING PACKAGE: resonance-scanner-unraid-multiline-fix-v12.5.tar.gz (2.5MB)

ISSUES IDENTIFIED AND FIXED:
============================

1. ‚ùå ORIGINAL ISSUE: "sh: vite: not found"
   ‚úÖ FIXED: Added --include=dev to npm install to install build tools

2. ‚ùå SECOND ISSUE: Production build path.resolve() error  
   ‚úÖ FIXED: Switched to development mode to avoid bundling issues

3. ‚ùå THIRD ISSUE: "import.meta.dirname" undefined in vite.config.ts  
   ‚úÖ FIXED: Added docker-startup-fix.sh that patches vite.config.ts automatically

4. ‚ùå FOURTH ISSUE: "import.meta.dirname" undefined in server/vite.ts (Web UI error)
   ‚úÖ FIXED: Updated startup script to patch BOTH vite.config.ts AND server/vite.ts

5. ‚ùå FIFTH ISSUE: "Permission denied" on docker-startup-fix.sh (restart loop)
   ‚úÖ FIXED: Added chmod +x to set execute permissions before running script

6. ‚ùå SIXTH ISSUE: "ENOENT: no such file or directory, open '/client/index.html'" (persistent)
   üìã ROOT CAUSE: Multiline path.resolve pattern in server/vite.ts not handled by simple sed
   ‚úÖ FINAL FIX: File rewriting approach with enhanced pattern matching for multiline code

ROOT CAUSE:
===========
- Docker node:18-alpine doesn't support import.meta.dirname in tsx
- SEVEN total references across two files: vite.config.ts (5) AND server/vite.ts (2)
- **CRITICAL: server/vite.ts has MULTILINE path.resolve patterns spanning 6 lines**
- Simple sed patterns couldn't handle multiline code structures
- path.resolve(import.meta.dirname, "..", "client", "index.html") split across lines 48-53
- Path calculation errors causing '/client/index.html' instead of '/app/client/index.html'
- Extracted tar.gz files don't preserve execute permissions in Docker

SOLUTION:
=========
- Added chmod +x to set execute permissions on startup script
- **File rewriting approach**: Pipes content through multiple sed transformations
- Handles multiline patterns using advanced sed techniques
- Enhanced debugging with before/after content verification
- Direct hardcoded Docker paths: "/app/client/index.html" and "/app/dist/public"
- Comprehensive patching of ALL 7 import.meta.dirname references including multiline
- Multiple transformation passes to ensure complete replacement
- No manual file editing required

INSTALLATION:
=============
1. tar -xzf resonance-scanner-unraid-multiline-fix-v12.5.tar.gz -C /mnt/user/appdata/
2. cd /mnt/user/appdata/resonance-breakout-scanner/
3. nano .env (set your password: spider1234@U)
4. docker-compose up -d
5. Access: http://[unraid-ip]:5000

FEATURES:
=========
‚úÖ Real-time scanning of 312+ crypto pairs
‚úÖ 50+ top breakout candidates detection
‚úÖ Professional TradingView-style interface
‚úÖ Dynamic coin selection and filtering
‚úÖ Alert system support
‚úÖ PostgreSQL database with automatic schema sync
‚úÖ Special character password support (@, #, %, etc.)

STATUS: READY FOR DEPLOYMENT üöÄ